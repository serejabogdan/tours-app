{"version":3,"sources":["shared/utils/date.js","shared/MultiDatepicker/MultiDatepicker.js","shared/MultiDatepicker/index.js","redux/types.js","redux/actions.js","shared/Welcome/Welcome.js","shared/Welcome/index.js","components/ToursSearch/TourCards/TourCard/TourCard.js","components/ToursSearch/TourCards/TourCard/index.js","firebase.config.js","components/ToursSearch/TourCards/TourCards.js","components/ToursSearch/Filters/Filters.js","components/ToursSearch/Filters/index.js","components/ToursSearch/ToursSearch.js","components/ToursSearch/index.js","shared/SearchBoard/SearchBoard.js","shared/SearchBoard/index.js","assets/images/bg-home1.jpg","shared/Tabs/Tabs.js","shared/Tabs/index.js","components/Tour/TourTabs/TourTabs.js","components/Tour/TourTabs/index.js","shared/Slider/Slider.js","shared/Slider/index.js","components/RequestForm/RequestForm.js","components/RequestForm/index.js","components/Tour/Tour.js","components/Tour/index.js","components/admin/AddTourForm/AddTourForm.js","components/admin/AddTourForm/index.js","components/auth/Signup/Signup.js","components/auth/Signup/index.js","shared/utils/auth.js","components/auth/Signin/Signin.js","components/auth/Signin/index.js","shared/Header/Header.js","shared/Header/index.js","components/Profile/UserOrders/OrderCard/UserOrder.js","components/Profile/UserOrders/OrderCard/index.js","components/Profile/UserOrders/UserOrders.js","components/Profile/UserOrders/index.js","components/Profile/Profile.js","components/Profile/index.js","components/admin/OrderCards/OrderCard/OrderCard.js","components/admin/OrderCards/OrderCard/index.js","components/admin/OrderCards/OrderCards.js","components/admin/OrderCards/index.js","components/admin/Admin/Admin.js","components/admin/Admin/index.js","shared/PrivateRoute.js","components/App/App.js","components/App/index.js","redux/reducers/searchReducer/searchReducer.js","redux/reducers/searchReducer/index.js","redux/reducers/toursReducer/toursReducer.js","redux/reducers/toursReducer/index.js","redux/reducers/filtersReducer/filtersReducer.js","redux/reducers/filtersReducer/index.js","redux/reducers/authReducer/authReducer.js","redux/reducers/authReducer/index.js","redux/reducers/userReducer/userReducer.js","redux/reducers/userReducer/index.js","redux/reducers/rootReducer.js","redux/store.js","index.js"],"names":["dateCopy","date","newDate","Date","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","dateOffsetByDays","days","dateOffsetByMonths","months","registerLocale","locale_uk","MultiDatepicker","classNames","startDate","setStartDate","endDate","setEndDate","className","locale","selected","onChange","selectsStart","dateFormat","minDate","maxDate","selectsEnd","SET_SEARCH_DATA","TOGGLE_FILTER","REMOVE_FILTER","CLEAR_FILTERS","CHANGE_MIN_PRICE","CHANGE_MAX_PRICE","CHANGE_TOUR_NAME","SET_TOURS","SET_CURRENT_USER","SET_RESORTS","SET_USER","clearFilters","filters","type","payload","setTours","tours","mapDispatchToState","setSearchData","data","Welcome","connect","state","search","useState","country","setCountry","city","setCity","adults","setAdults","children","setChildren","history","useHistory","onSubmit","e","preventDefault","searchData","push","localStorage","setItem","JSON","stringify","name","id","value","target","onClick","TourCard","props","tour","rate","resort","description","price","urls","to","src","alt","toLocaleDateString","find","filter","includes","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","storage","database","mapDispatchToProps","minPrice","maxPrice","tourName","useEffect","ref","on","snapshot","Object","values","val","off","toursWithMatches","map","findFilters","item","mostMatchedFiltersMax","Math","max","length","resultToursAfterFilters","Number","toLowerCase","toggleFilter","removeFilter","changeMinPrice","changeMaxPrice","changeTourName","setResorts","resorts","Filters","setFilters","filtersRender","array","placeholder","title","body","ToursSearch","SearchBoard","path","component","Tabs","navs","label","setState","nav","TourTabs","services","service","main","free","paid","settings","easing","Slider","url","style","backgroundImage","RequestForm","userAuth","currentUser","useForm","register","handleSubmit","setValue","errors","formState","userData","a","order","assign","isActive","toDateString","user","pushedUrl","getKey","key","update","setOrder","uid","get","then","tel","email","console","log","required","pattern","orderFormation","addOrderToUser","Tour","match","params","setTour","tourRef","keys","AddTourForm","stateAboutService","setStateAboutService","stateLocationService","setLocationService","stateTerritoryService","setTerritoryService","stateBeachService","setBeachService","stateRoomService","setRoomService","statePoolsService","setPoolsService","stateEntertainmentService","setEntertainmentService","mainState","setMainState","prevState","PAID","FREE","toggleAttribute","attributeName","serviceState","hasAttr","concat","somethingDelete","minorAtribute","removeDuplicate","servicesComponent","files","fileUrls","file","child","getDownloadURL","error","put","resultState","newFilters","rows","cols","Signup","password","createUserWithEmailAndPassword","signup","onAuthStateChanged","set","Signin","signInWithEmailAndPassword","signin","Header","LINK_CLASS_NAME","isOpenMenu","setIsOpenMenu","isAdmin","setIsAdmin","exists","authLinks","href","onChangeIsOpenMenuState","document","classList","toggle","handleLogOut","signOut","viewBox","xmlns","d","activeClassName","renderAuthOrLogout","UserOrder","UserOrders","setUser","orders","index","OrderCard","Profile","userRef","OrderCards","setOrders","ordersFilter","Admin","PrivateRoute","Component","isUserAuth","rest","render","setCurrentUser","App","color","initialState","localStorageData","getItem","parsedData","parse","searchReducer","action","toursReducer","filtersReducer","authReducer","userReducer","rootReducer","combineReducers","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9f47ed59.chunk.js","sourcesContent":["function dateCopy(date) {\r\n  const newDate = new Date();\r\n\r\n  newDate.setDate(date.getDate());\r\n  newDate.setMonth(date.getMonth());\r\n  newDate.setFullYear(date.getFullYear());\r\n  return newDate;\r\n}\r\n\r\nexport function dateOffsetByDays(date, days) {\r\n  const newDate = dateCopy(date);\r\n  return new Date(newDate.setDate(newDate.getDate() + days));\r\n}\r\n\r\nexport function dateOffsetByMonths(date, months) {\r\n  const newDate = dateCopy(date);\r\n  return new Date(newDate.setMonth(newDate.getMonth() + months));\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport './MultiDatepicker.css';\r\nimport DatePicker, {registerLocale} from 'react-datepicker';\r\nimport locale_uk from 'date-fns/locale/uk';\r\nimport {dateOffsetByDays, dateOffsetByMonths} from '../utils/date';\r\nregisterLocale('uk', locale_uk);\r\n\r\nfunction MultiDatepicker({classNames, startDate, setStartDate, endDate, setEndDate, ...props}) {\r\n  return (\r\n    <>\r\n      <label className='welcome__label'>\r\n        <span>Початок:</span>\r\n        <DatePicker\r\n          className={`datepicker input ${classNames}`}\r\n          locale='uk'\r\n          selected={startDate}\r\n          onChange={(date) => {\r\n            setStartDate(date);\r\n            setEndDate(dateOffsetByDays(date, 7));\r\n          }}\r\n          selectsStart\r\n          startDate={startDate}\r\n          dateFormat='dd.MM.yyyy'\r\n          endDate={endDate}\r\n          minDate={dateOffsetByDays(new Date(), 7)}\r\n          maxDate={dateOffsetByMonths(new Date(), 12)}\r\n        />\r\n      </label>\r\n      <label className='welcome__label'>\r\n        <span>Кінець:</span>\r\n        <DatePicker\r\n          className={`datepicker input ${classNames}`}\r\n          locale='uk'\r\n          selected={endDate}\r\n          onChange={(date) => setEndDate(date)}\r\n          selectsEnd\r\n          startDate={startDate}\r\n          dateFormat='dd.MM.yyyy'\r\n          endDate={endDate}\r\n          minDate={startDate}\r\n          maxDate={dateOffsetByMonths(startDate, 1)}\r\n        />\r\n      </label>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MultiDatepicker;\r\n","import MultiDatepicker from './MultiDatepicker';\r\n\r\nexport default MultiDatepicker;\r\n","export const SET_SEARCH_DATA = 'SET_SEARCH_DATA';\r\nexport const TOGGLE_FILTER = 'TOGGLE_FILTER';\r\nexport const REMOVE_FILTER = 'REMOVE_FILTER';\r\nexport const CLEAR_FILTERS = 'CLEAR_FILTERS';\r\n\r\nexport const CHANGE_MIN_PRICE = 'CHANGE_MIN_PRICE';\r\nexport const CHANGE_MAX_PRICE = 'CHANGE_MAX_PRICE';\r\nexport const CHANGE_TOUR_NAME = 'CHANGE_TOUR_NAME';\r\n\r\nexport const SET_TOURS = 'SET_TOURS';\r\n\r\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER';\r\n\r\nexport const SET_RESORTS = 'SET_RESORTS';\r\n\r\nexport const SET_USER = 'SET_USER';\r\n","import {\r\n  SET_SEARCH_DATA,\r\n  CLEAR_FILTERS,\r\n  REMOVE_FILTER,\r\n  TOGGLE_FILTER,\r\n  CHANGE_MIN_PRICE,\r\n  CHANGE_MAX_PRICE,\r\n  CHANGE_TOUR_NAME,\r\n  SET_TOURS,\r\n  SET_CURRENT_USER,\r\n  SET_RESORTS,\r\n  SET_USER\r\n} from './types';\r\n\r\nexport function setSearchData(data) {\r\n  return {\r\n    type: SET_SEARCH_DATA,\r\n    payload: data\r\n  };\r\n}\r\n\r\nexport function toggleFilter(filter) {\r\n  return {\r\n    type: TOGGLE_FILTER,\r\n    payload: filter\r\n  };\r\n}\r\n\r\nexport function removeFilter(filter) {\r\n  return {\r\n    type: REMOVE_FILTER,\r\n    payload: filter\r\n  };\r\n}\r\n\r\nexport function clearFilters(filters) {\r\n  return {\r\n    type: CLEAR_FILTERS,\r\n    payload: filters\r\n  };\r\n}\r\n\r\nexport function changeMinPrice(price) {\r\n  return {\r\n    type: CHANGE_MIN_PRICE,\r\n    payload: price\r\n  };\r\n}\r\n\r\nexport function changeMaxPrice(price) {\r\n  return {\r\n    type: CHANGE_MAX_PRICE,\r\n    payload: price\r\n  };\r\n}\r\n\r\nexport function changeTourName(tourName) {\r\n  return {\r\n    type: CHANGE_TOUR_NAME,\r\n    payload: tourName\r\n  };\r\n}\r\n\r\nexport function setTours(tours) {\r\n  return {\r\n    type: SET_TOURS,\r\n    payload: tours\r\n  };\r\n}\r\n\r\nexport function setCurrentUser(user) {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: user\r\n  };\r\n}\r\n\r\nexport function setResorts(resorts) {\r\n  return {\r\n    type: SET_RESORTS,\r\n    payload: resorts\r\n  };\r\n}\r\n\r\nexport function setUser(user) {\r\n  return {\r\n    type: SET_USER,\r\n    payload: user\r\n  };\r\n}\r\n","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport MultiDatepicker from '../MultiDatepicker';\r\nimport './Welcome.css';\r\n\r\nimport {clearFilters, setSearchData, setTours} from '../../redux/actions';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nfunction Welcome({setSearchData, clearFilters, search, ...props}) {\r\n  const [country, setCountry] = useState(search.country);\r\n  const [city, setCity] = useState(search.city);\r\n  const [startDate, setStartDate] = useState(search.startDate);\r\n  const [endDate, setEndDate] = useState(search.endDate);\r\n  const [adults, setAdults] = useState(search.adults);\r\n  const [children, setChildren] = useState(search.children);\r\n\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const searchData = {\r\n      country,\r\n      city,\r\n      startDate,\r\n      endDate,\r\n      adults,\r\n      children\r\n    };\r\n    setSearchData(searchData);\r\n    history.push('/search/result');\r\n    localStorage.setItem('search', JSON.stringify(searchData));\r\n  }\r\n\r\n  return (\r\n    <section className='welcome'>\r\n      <div className='welcome__hower'>\r\n        <div className='welcome__board'>\r\n          <h1 className='welcome__title title-h1'>Знайдіть тур саме в нас.</h1>\r\n          <span className='welcome__text'>Обирайте улюблену країну і збирайте речі.</span>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className='search__form'>\r\n              <label className='welcome__label'>\r\n                <span>Місто вильоту:</span>\r\n                <select\r\n                  className='form__control select'\r\n                  name='city'\r\n                  id='city'\r\n                  value={city}\r\n                  onChange={(e) => setCity(e.target.value)}\r\n                >\r\n                  <option value='Київ'>Київ</option>\r\n                  <option value='Дніпро'>Дніпро</option>\r\n                  <option value='Запоріжжя'>Запоріжжя</option>\r\n                  <option value='Львів'>Львів</option>\r\n                  <option value='Харків'>Харків</option>\r\n                </select>\r\n              </label>\r\n              <label className='welcome__label'>\r\n                <span>Країна:</span>\r\n                <select\r\n                  className='form__control select'\r\n                  name='country'\r\n                  id='country'\r\n                  value={country}\r\n                  onChange={(e) => setCountry(e.target.value)}\r\n                >\r\n                  <option value='Єгипет'>Єгипет</option>\r\n                  <option value='Туреччина'>Туреччина</option>\r\n                  <option value='Домінікана'>Домінікана</option>\r\n                  <option value='Кіпр'>Кіпр</option>\r\n                </select>\r\n              </label>\r\n              <MultiDatepicker\r\n                classNames='form__control'\r\n                startDate={startDate}\r\n                setStartDate={(date) => setStartDate(date)}\r\n                endDate={endDate}\r\n                setEndDate={(date) => setEndDate(date)}\r\n              />\r\n\r\n              <label className='welcome__label'>\r\n                <span>Дорослих:</span>\r\n                <select\r\n                  className='form__control select'\r\n                  name='country'\r\n                  id='country'\r\n                  value={adults}\r\n                  onChange={(e) => setAdults(e.target.value)}\r\n                >\r\n                  <option value='1'>1</option>\r\n                  <option value='2'>2</option>\r\n                  <option value='3'>3</option>\r\n                  <option value='4'>4</option>\r\n                </select>\r\n              </label>\r\n              <label className='welcome__label'>\r\n                <span>Дітей:</span>\r\n                <select\r\n                  className='form__control select'\r\n                  name='country'\r\n                  id='country'\r\n                  value={children}\r\n                  onChange={(e) => setChildren(e.target.value)}\r\n                >\r\n                  <option value='0'>0</option>\r\n                  <option value='1'>1</option>\r\n                  <option value='2'>2</option>\r\n                  <option value='3'>3</option>\r\n                  <option value='4'>4</option>\r\n                </select>\r\n              </label>\r\n              <label>\r\n                <button className='form__control submit-btn btn' type='submit' onClick={clearFilters}>\r\n                  Полетіли\r\n                </button>\r\n              </label>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    search: state.search\r\n  };\r\n};\r\n\r\nconst mapDispatchToState = {setSearchData, setTours, clearFilters};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(Welcome);\r\n","import Welcome from './Welcome';\r\nexport default Welcome;\r\n","import React from 'react';\r\nimport './TourCard.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction TourCard(props) {\r\n  const {id, name, rate, country, resort, description, price, urls} = props.tour;\r\n  const {city, startDate, endDate} = props.search;\r\n\r\n  return (\r\n    <div className='TourCard'>\r\n      <div className='TourCard__img'>\r\n        <Link to={`/tour/${id}`} key={id}>\r\n          <img src={urls && urls[0]} alt='It is a hotel' />\r\n        </Link>\r\n      </div>\r\n      <div className='TourCard__content'>\r\n        <Link className='TourCard__title' to={`/tour/${id}`} key={id}>\r\n          {name}, {rate}\r\n        </Link>\r\n        <div className='TourCard__text TourCard__country'>\r\n          {country}, {resort}\r\n        </div>\r\n        <div className='TourCard__text'>\r\n          З {startDate.toLocaleDateString()} по {endDate.toLocaleDateString()}\r\n        </div>\r\n        <div className='TourCard__text'>\r\n          {props.tour.filters.find((filter) =>\r\n            [\r\n              'Без харчування',\r\n              'Тільки сніданки',\r\n              'Сніданок і вечеря',\r\n              'Все включено',\r\n              'Сніданок, обід і вечеря'\r\n            ].includes(filter)\r\n          )}\r\n        </div>\r\n        <div className='TourCard__text'>Переліт (з м. {city})</div>\r\n        <div className='TourCard__text TourCard__description'>{description}</div>\r\n      </div>\r\n      <div className='TourCard__other'>\r\n        <div className='reviews'></div>\r\n        <div className='TourCard__other-bottom'>\r\n          <div className='TourCard__price'>\r\n            <span className='price'>{price}</span>\r\n            <span className='currency'> грн</span>\r\n          </div>\r\n          <Link className='TourCard__btn btn' to={`/tour/${id}`}>\r\n            Більше\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TourCard;\r\n","import TourCard from './TourCard';\r\n\r\nexport default TourCard;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport \"firebase/storage\";\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyCoeAwSaLT5RSPSIOcLBgi7hhnqI5egYW4\",\r\n  authDomain: \"tour-app-350b9.firebaseapp.com\",\r\n  databaseURL: \"https://tour-app-350b9-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"tour-app-350b9\",\r\n  storageBucket: \"tour-app-350b9.appspot.com\",\r\n  messagingSenderId: \"681782393076\",\r\n  appId: \"1:681782393076:web:2d8556c0d0ee399fb506a1\",\r\n});\r\nconst auth = app.auth();\r\nconst storage = app.storage();\r\nconst database = app.database();\r\nexport { auth, storage, database };\r\nexport default app;\r\n","import React, {useEffect} from 'react';\r\nimport './TourCards.css';\r\nimport TourCard from './TourCard';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport {database} from '../../../firebase.config';\r\n\r\nimport {setTours} from '../../../redux/actions';\r\n\r\nfunction TourCards({tours, search, selected, minPrice, maxPrice, tourName, setTours, ...props}) {\r\n  useEffect(() => {\r\n    const ref = database.ref(`tours/${search.country}`);\r\n    ref.on('value', (snapshot) => {\r\n      const tours = Object.values(snapshot.val());\r\n      setTours(tours);\r\n    });\r\n    return () => {\r\n      ref.off('value');\r\n    };\r\n  }, [search, minPrice, maxPrice, selected]);\r\n\r\n  const toursWithMatches = tours.map((tour) => {\r\n    tour.findFilters = tour.filters.filter((item) => selected.includes(item));\r\n    return tour;\r\n  });\r\n  const mostMatchedFiltersMax = Math.max(...tours.map((tour) => tour.findFilters.length));\r\n  const resultToursAfterFilters = toursWithMatches\r\n    .filter((tour) => tour.findFilters.length === mostMatchedFiltersMax)\r\n    .filter((tour) => Number(tour.price) >= Number(minPrice) && Number(tour.price) <= Number(maxPrice))\r\n    .filter((tour) => tour.name.toLowerCase().includes(tourName.toLowerCase()));\r\n  return (\r\n    <div className='TourCards'>\r\n      {resultToursAfterFilters.length\r\n        ? resultToursAfterFilters.map((tour) => <TourCard key={tour.id} tour={tour} search={search} />)\r\n        : 'Немає турів, котрі б задовольняли умову вибірки'}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    tours: state.tours,\r\n    search: state.search,\r\n    selected: state.filters.selected,\r\n    minPrice: state.filters.minPrice,\r\n    maxPrice: state.filters.maxPrice,\r\n    tourName: state.filters.tourName\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setTours\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TourCards);\r\n","import React, {useEffect, useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './Filters.css';\r\n\r\nimport {\r\n  toggleFilter,\r\n  clearFilters,\r\n  removeFilter,\r\n  changeMinPrice,\r\n  changeMaxPrice,\r\n  changeTourName,\r\n  setResorts\r\n} from '../../../redux/actions';\r\nimport {database} from '../../../firebase.config';\r\n\r\nfunction Filters({\r\n  toggleFilter,\r\n  clearFilters,\r\n  removeFilter,\r\n  changeMinPrice,\r\n  changeMaxPrice,\r\n  changeTourName,\r\n  selected,\r\n  minPrice,\r\n  maxPrice,\r\n  tourName,\r\n  country,\r\n  setResorts,\r\n  resorts,\r\n  ...props\r\n}) {\r\n  const [filters, setFilters] = useState([]);\r\n  useEffect(() => {\r\n    database.ref(`filters/filters`).on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      setFilters(data);\r\n    });\r\n    database.ref(`filters/resorts/${country}`).on('value', (snapshot) => {\r\n      const resorts = snapshot.val();\r\n      setResorts(resorts);\r\n    });\r\n  }, [country]);\r\n\r\n  function filtersRender(array) {\r\n    return array.map((item) => (\r\n      <div\r\n        className={`filter__btn filter-text ${selected.includes(item) && 'filter__btn-active'}`}\r\n        key={item}\r\n        onClick={() => toggleFilter(item)}\r\n      >\r\n        {item}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  function clearFiltersBoard() {\r\n    clearFilters();\r\n    changeMinPrice(0);\r\n    changeMaxPrice(400000);\r\n    changeTourName('');\r\n  }\r\n\r\n  return (\r\n    <div className='Filters'>\r\n      <div className='Filters__chose chose'>\r\n        <div className='chose__header'>\r\n          <h3 className='filter__title'>Обрані</h3>\r\n          <button className='clear-btn btn' onClick={clearFiltersBoard}>\r\n            Витерти\r\n          </button>\r\n        </div>\r\n        <div className='filter-text'>\r\n          {!selected.length\r\n            ? 'Нічого не обрано'\r\n            : selected.map((item) => (\r\n                <div\r\n                  className='filter__btn filter-text filter__btn-active'\r\n                  key={item}\r\n                  onClick={() => removeFilter(item)}\r\n                >\r\n                  {item}\r\n                </div>\r\n              ))}\r\n        </div>\r\n      </div>\r\n      <div className='filter filter__price'>\r\n        <h3 className='filter__title'>Ціна</h3>\r\n        <div className='price-form'>\r\n          <input\r\n            className='price-input input'\r\n            type='text'\r\n            placeholder={minPrice}\r\n            value={minPrice}\r\n            onChange={(e) => changeMinPrice(e.target.value)}\r\n          />\r\n          <span className='filter-text'>&nbsp;-&nbsp;</span>\r\n          <input\r\n            className='price-input input'\r\n            type='text'\r\n            placeholder={maxPrice}\r\n            value={maxPrice}\r\n            onChange={(e) => changeMaxPrice(e.target.value)}\r\n          />\r\n          <span className='filter-text'>&nbsp;грн</span>\r\n        </div>\r\n      </div>\r\n      <div className='filter'>\r\n        <h3 className='filter__title'>Пошук отеля</h3>\r\n        <input\r\n          className='input'\r\n          type='text'\r\n          placeholder='Fortuna Ssh'\r\n          value={tourName}\r\n          onChange={(e) => changeTourName(e.target.value)}\r\n        />\r\n      </div>\r\n      {filters &&\r\n        filters.map(({title, body}) => {\r\n          return (\r\n            <div className='filter' key={title}>\r\n              <h3 className='filter__title'>{title}</h3>\r\n              {filtersRender(body)}\r\n            </div>\r\n          );\r\n        })}\r\n      <div className='filter'>\r\n        <h3 className='filter__title'>Курорт</h3>\r\n        {filtersRender(resorts)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selected: state.filters.selected,\r\n    minPrice: state.filters.minPrice,\r\n    maxPrice: state.filters.maxPrice,\r\n    tourName: state.filters.tourName,\r\n    resorts: state.filters.resorts,\r\n    country: state.search.country\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  toggleFilter,\r\n  clearFilters,\r\n  removeFilter,\r\n  changeMinPrice,\r\n  changeMaxPrice,\r\n  changeTourName,\r\n  setResorts\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\r\n","import Filters from './Filters';\r\nexport default Filters;\r\n","import React from 'react';\r\nimport './ToursSearch.css';\r\n\r\nimport TourCards from './TourCards/TourCards';\r\nimport Filters from './Filters';\r\nimport Welcome from '../../shared/Welcome';\r\n\r\nfunction ToursSearch() {\r\n  return (\r\n    <section className='ToursSearch'>\r\n      <Filters />\r\n      <TourCards />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ToursSearch;\r\n","import ToursSearch from './ToursSearch';\r\nexport default ToursSearch;\r\n","import React from 'react';\r\nimport './SearchBoard.css';\r\nimport Welcome from '../Welcome/';\r\nimport {Route, Switch} from 'react-router';\r\nimport ToursSearch from '../../components/ToursSearch';\r\n\r\nfunction SearchBoard() {\r\n  return (\r\n    <div className='SearchBoard'>\r\n      <div className='wrapper'>\r\n        <Welcome />\r\n\r\n        <Switch>\r\n          <Route path='/search/result' component={ToursSearch} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBoard;\r\n","import SearchBoard from './SearchBoard';\r\nexport default SearchBoard;\r\n","export default __webpack_public_path__ + \"static/media/bg-home1.50dfaba4.jpg\";","import React, {useState} from 'react';\r\nimport './Tabs.css';\r\n\r\nfunction Tabs(props) {\r\n  const {children} = props;\r\n\r\n  const navs = children.map(({props}) => props.label);\r\n\r\n  const [state, setState] = useState(children[0].props.label);\r\n  return (\r\n    <div className=\"Tabs\">\r\n      <nav className=\"Tabs__nav\">\r\n        {navs.map((nav) => (\r\n          <button className={`Tabs__link Tabs__link--reset ${state === nav && 'Tabs__link--active'}`} key={nav} onClick={() => setState(nav)}>\r\n            {nav}\r\n          </button>\r\n        ))}\r\n      </nav>\r\n      <div className=\"Tabs__content\">{children.filter(({props}) => props.label === state)}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Tabs;\r\n","import Tabs from './Tabs';\r\n\r\nexport default Tabs;\r\n","import React from 'react';\r\nimport './TourTabs.css';\r\n\r\nimport Tabs from '../../../shared/Tabs';\r\n\r\nfunction TourTabs({services, ...props}) {\r\n  return (\r\n    <Tabs>\r\n      {services.map((service) => {\r\n        const {title, main, free, paid} = service;\r\n        return (\r\n          <div label={title} key={title}>\r\n            {main && (\r\n              <ul className='main__info'>\r\n                {main?.map((item) => (\r\n                  <li key={item}>{item}</li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n            {free && (\r\n              <div className='free'>\r\n                <h3 className='free__title'>Безкоштовно</h3>\r\n                <ul className='free__info'>\r\n                  {free?.map((item) => (\r\n                    <li key={item}>{item}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            {paid && (\r\n              <div className='paid'>\r\n                <h3 className='paid__title'>Платно</h3>\r\n                <ul className='paid__info'>\r\n                  {paid?.map((item) => (\r\n                    <li key={item}>{item}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </Tabs>\r\n  );\r\n}\r\n\r\nexport default TourTabs;\r\n","import TourTabs from './TourTabs';\r\nexport default TourTabs;\r\n","import React from 'react';\r\nimport './Slider.css';\r\n\r\nimport {Slide} from 'react-slideshow-image';\r\nimport 'react-slideshow-image/dist/styles.css';\r\n\r\nconst settings = {\r\n  easing: 'ease'\r\n};\r\n\r\nfunction Slider(props) {\r\n  const {urls} = props;\r\n  return (\r\n    <Slide {...settings}>\r\n      {urls &&\r\n        urls.map((url) => (\r\n          <div className='each-slide' key={url}>\r\n            <div style={{backgroundImage: `url(${url})`}}></div>\r\n          </div>\r\n        ))}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nexport default Slider;\r\n","import Slider from './Slider';\r\nexport default Slider;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './RequestForm.css';\r\n\r\nimport {useForm} from 'react-hook-form';\r\nimport {connect} from 'react-redux';\r\nimport {useHistory} from 'react-router';\r\nimport {database} from '../../firebase.config';\r\n\r\nfunction RequestForm({tour, search, userAuth, ...props}) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: {errors}\r\n  } = useForm();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (userAuth) {\r\n      database\r\n        .ref(`users/${userAuth.uid}`)\r\n        .get()\r\n        .then((snapshot) => {\r\n          setValue('name', snapshot.val().name);\r\n          setValue('tel', snapshot.val().tel);\r\n          setValue('email', snapshot.val().email);\r\n        });\r\n    }\r\n    return () => {};\r\n  }, []);\r\n\r\n  function onSubmit(userData) {\r\n    console.log(register('name', {required: true, pattern: /^\\D+$/g}));\r\n    orderFormation(userData);\r\n\r\n    if (userAuth) {\r\n      addOrderToUser();\r\n    }\r\n  }\r\n\r\n  async function orderFormation(userData) {\r\n    const order = Object.assign(\r\n      {isActive: true},\r\n      {tour},\r\n      {\r\n        search: {\r\n          ...search,\r\n          startDate: search.startDate.toDateString(),\r\n          endDate: search.endDate.toDateString()\r\n        }\r\n      },\r\n      {user: {...userData}}\r\n    );\r\n    const ref = database.ref(`/orders`);\r\n    const pushedUrl = await ref.push(order);\r\n\r\n    const key = await pushedUrl.getKey();\r\n    await database.ref(`/orders/${key}`).update({id: key});\r\n    props.setOrder(false);\r\n  }\r\n\r\n  async function addOrderToUser(userData) {\r\n    const order = Object.assign(\r\n      {},\r\n      {tour},\r\n      {\r\n        search: {\r\n          ...search,\r\n          startDate: search.startDate.toDateString(),\r\n          endDate: search.endDate.toDateString()\r\n        }\r\n      },\r\n      {user: {...userData}}\r\n    );\r\n    const ref = await database.ref(`/users/${userAuth.uid}/orders`);\r\n    const pushedUrl = await ref.push(order);\r\n\r\n    const key = await pushedUrl.getKey();\r\n    await database.ref(`/users/${userAuth.uid}/orders/${key}`).update({id: key});\r\n  }\r\n\r\n  return (\r\n    <div className='black-overlay'>\r\n      <div className='request-form'>\r\n        <div className='request-form__board'>\r\n          <div className='request-form__header'>\r\n            <div className='request-form__title'>\r\n              <h1 className='title'>Оформлення заявки на тур</h1>\r\n              <span className='request-from__message'>Заповніть форму і ми зателефонуємо вам найближчим часом!</span>\r\n            </div>\r\n            <div className='request-form__close-button'>\r\n              <button onClick={() => props.setOrder(false)}>&#10006;</button>\r\n            </div>\r\n          </div>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className='request-form__fields'>\r\n              <label>\r\n                <span>Ім'я:</span>\r\n                <input\r\n                  className={`input ${errors.name && 'input-error'}`}\r\n                  type='text'\r\n                  {...register('name', {required: true, pattern: /^\\D+$/g})}\r\n                />\r\n              </label>\r\n              <label>\r\n                <span>Телефон:</span>\r\n                <input\r\n                  className={`input ${errors.tel && 'input-error'}`}\r\n                  type='tel'\r\n                  {...register('tel', {required: true, pattern: /^0\\d{8}\\d$/i})}\r\n                />\r\n              </label>\r\n              <label>\r\n                <span>E-mail:</span>\r\n                <input\r\n                  className={`input ${errors.email && 'input-error'}`}\r\n                  type='email'\r\n                  {...register('email', {required: true, pattern: /@.+\\..+/i})}\r\n                />\r\n              </label>\r\n            </div>\r\n            <button type='submit' className='submit-btn btn'>\r\n              Оформити\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userAuth: state.userAuth.currentUser\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(RequestForm);\r\n","import RequestForm from './RequestForm';\r\n\r\nexport default RequestForm;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './Tour.css';\r\n\r\nimport TourTabs from './TourTabs';\r\nimport Slider from '../../shared/Slider';\r\n\r\nimport {connect} from 'react-redux';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport RequestForm from '../RequestForm';\r\nimport {database} from '../../firebase.config';\r\n\r\nfunction Tour(props) {\r\n  const {match, search} = props;\r\n  const id = match.params.id;\r\n  const [order, setOrder] = useState(false);\r\n  const [tour, setTour] = useState({});\r\n\r\n  useEffect(() => {\r\n    const tourRef = database.ref(`tours/${search.country}/${id}`);\r\n    tourRef.on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      console.log(data);\r\n      setTour(data);\r\n    });\r\n    return () => {\r\n      tourRef.off('value');\r\n    };\r\n  }, []);\r\n\r\n  /* function getTour() {\r\n    return tours.find((tour) => tour.id === id);\r\n  }\r\n  const tour = getTour();\r\n  const history = useHistory(); */\r\n  /* if (!tour) {\r\n    history.push('/');\r\n    return null;\r\n  } */\r\n\r\n  function getTourPrice() {\r\n    if (search.children > 0) {\r\n      return Number(tour.price) * Number(search.adults) * Number(search.children / 2);\r\n    }\r\n    return Number(tour.price) * Number(search.adults);\r\n  }\r\n\r\n  function tourNumberOfPeople() {\r\n    if (search.children > 0) {\r\n      return (\r\n        <span>\r\n          тур за {search.adults} дорослих та {search.children} дітей\r\n        </span>\r\n      );\r\n    }\r\n    return <span>тур за {search.adults} дорослих</span>;\r\n  }\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      {!Object.keys(tour).length ? (\r\n        'Завантаження'\r\n      ) : (\r\n        <>\r\n          <section className='hotel'>\r\n            <div className='hotel__titles'>\r\n              <h1 className='title-h1'>\r\n                {tour.name}, {tour.rate}\r\n              </h1>\r\n              <div className='hotel__text'>\r\n                {tour.resort}, {tour.country}\r\n              </div>\r\n            </div>\r\n            <div className='hotel__tour tour'>\r\n              <div className='tour__slider slider'>\r\n                <Slider urls={tour.urls} />\r\n              </div>\r\n\r\n              <div className='tour__info'>\r\n                <div className='tour__info-wrapper'>\r\n                  <h2 className='tour__title title-h2'>Інформація про тур</h2>\r\n                  <ul className='tour__info-list list'>\r\n                    <li>\r\n                      Виїзд {search.startDate.toLocaleDateString()},{' '}\r\n                      {search.endDate.getDate() - search.startDate.getDate()} діб\r\n                    </li>\r\n                    <li>Виліт з м. {search.city}</li>\r\n                    <li>Кімната стандарт</li>\r\n                    <li>\r\n                      {tour.filters.find((filter) =>\r\n                        [\r\n                          'Без харчування',\r\n                          'Тільки сніданки',\r\n                          'Сніданок і вечеря',\r\n                          'Все включено',\r\n                          'Сніданок, обід і вечеря'\r\n                        ].includes(filter)\r\n                      )}\r\n                    </li>\r\n                  </ul>\r\n                  <div className='tour__added'>\r\n                    <h4 className='tour__added-title title-h4'>Включено</h4>\r\n                    <span className='tour__text text'>Проїзд, проживання, страховка</span>\r\n                  </div>\r\n                  <div className='tour__price-info'>\r\n                    <div className='price'>\r\n                      {getTourPrice()} <span>грн</span>\r\n                    </div>\r\n                    {tourNumberOfPeople()}\r\n                  </div>\r\n                </div>\r\n                {/* <Link className='request-btn btn' to={`/order`}>\r\n              Оформити заявку\r\n            </Link> */}\r\n                {order && <RequestForm tour={tour} search={search} setOrder={setOrder} />}\r\n                <button className='request-btn btn' onClick={() => setOrder(true)}>\r\n                  Оформити заявку\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className='about'>\r\n            <TourTabs services={tour.services} />\r\n          </section>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    tours: state.tours,\r\n    search: state.search\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Tour);\r\n","import Tour from './Tour';\r\nexport default Tour;\r\n","import React, {useState, useEffect} from 'react';\r\nimport './AddTourForm.css';\r\n\r\nimport {database, storage} from '../../../firebase.config';\r\n\r\nfunction AddTourForm() {\r\n  const [stateAboutService, setStateAboutService] = useState({\r\n    title: 'Про готель',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [stateLocationService, setLocationService] = useState({\r\n    title: 'Місцезнаходження',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [stateTerritoryService, setTerritoryService] = useState({\r\n    title: 'Територія',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [stateBeachService, setBeachService] = useState({\r\n    title: 'Пляж',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [stateRoomService, setRoomService] = useState({\r\n    title: 'Кімнати',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [statePoolsService, setPoolsService] = useState({\r\n    title: 'Басейни',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [stateEntertainmentService, setEntertainmentService] = useState({\r\n    title: 'Розваги',\r\n    main: [],\r\n    free: [],\r\n    paid: []\r\n  });\r\n  const [mainState, setMainState] = useState({\r\n    name: 'Sharm Cliff Resort',\r\n    country: 'Єгипет',\r\n    resort: 'Дахаб',\r\n    rate: '5*',\r\n    description:\r\n      'При купівлі турів туристи розміщуються готелі зазначеної категорії. Скористайтеся чудовою нагодою випробувати долю, приготувати собі сюрприз і при цьому заощадити гроші!',\r\n    price: '12499',\r\n    filters: [],\r\n    urls: []\r\n  });\r\n\r\n  const [resorts, setResorts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ref = database.ref(`filters/resorts/${mainState.country}`);\r\n    ref.on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      setResorts(data);\r\n      setMainState((prevState) => ({...prevState, resort: data[0]}));\r\n    });\r\n    return () => {\r\n      ref.off('value');\r\n    };\r\n  }, [mainState.country]);\r\n\r\n  function somethingDelete(array, item) {\r\n    return array.filter((filter) => filter !== item);\r\n  }\r\n\r\n  function hasAttr(item, state) {\r\n    return state.includes(item);\r\n  }\r\n  const PAID = 'paid';\r\n  const FREE = 'free';\r\n  function toggleAttribute(item, attributeName, serviceState) {\r\n    const [state, setState] = serviceState;\r\n    if (hasAttr(item, state[attributeName])) {\r\n      setState((prevState) => ({...prevState, [attributeName]: somethingDelete(prevState[attributeName], item)}));\r\n    } else {\r\n      setState((prevState) => ({...prevState, [attributeName]: prevState[attributeName].concat(item)}));\r\n    }\r\n    if (attributeName === PAID || attributeName === FREE) {\r\n      removeDuplicate(item, attributeName, setState);\r\n    }\r\n    console.log(state);\r\n  }\r\n\r\n  function removeDuplicate(item, attributeName, setState) {\r\n    const minorAtribute = attributeName === PAID ? FREE : PAID;\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [minorAtribute]: prevState[minorAtribute].filter((item) => !prevState[attributeName].includes(item))\r\n    }));\r\n  }\r\n\r\n  const filters = [\r\n    {\r\n      title: 'Тип харчування',\r\n      body: ['Без харчування', 'Тільки сніданки', 'Сніданок і вечеря', 'Сніданок, обід і вечеря', 'Все включено']\r\n    },\r\n    {\r\n      title: 'Послуги',\r\n      body: ['Безкоштовний Wi-Fi', 'Розміщення з тваринами', 'Дитячий басейн', 'Дитяче меню', 'Водяні гірки']\r\n    },\r\n    {\r\n      title: 'Берегова лінія',\r\n      body: ['1-ша лінія', '2-га лінія']\r\n    }\r\n  ];\r\n  const services = [\r\n    {\r\n      title: 'Про готель',\r\n      main: ['Пляжний', 'Check-in 14:00', 'Check-out 12:00'],\r\n      free: [],\r\n      paid: [],\r\n      state: [stateAboutService, setStateAboutService]\r\n    },\r\n    {\r\n      title: 'Місцезнаходження',\r\n      main: ['1 лінія (на березі моря)', '2 лінія (до моря треба пройти)'],\r\n      free: [],\r\n      paid: [],\r\n      state: [stateLocationService, setLocationService]\r\n    },\r\n    {\r\n      title: 'Територія',\r\n      main: [],\r\n      free: ['Wi-Fi на території', 'Місця для паркування', 'Пральня / Хімчистка', ' Wi-Fi в лобі'],\r\n      paid: ['Wi-Fi на території', 'Місця для паркування', 'Пральня / Хімчистка', ' Wi-Fi в лобі'],\r\n      state: [stateTerritoryService, setTerritoryService]\r\n    },\r\n    {\r\n      title: 'Пляж',\r\n      main: ['Пісчаний', 'Власний', 'Пісок, Корали'],\r\n      free: ['Парасольки', 'Бар', 'Рушники', 'Шезлонги'],\r\n      paid: ['Парасольки', 'Бар', 'Рушники', 'Шезлонги'],\r\n      state: [stateBeachService, setBeachService]\r\n    },\r\n    {\r\n      title: 'Номера',\r\n      main: [],\r\n      free: ['Кондиціонер', 'Wi-Fi в номері', 'Міні-бар в номері', 'Сейф', 'Фен', 'Праска', 'Обслуговування номера'],\r\n      paid: ['Wi-Fi в номері', 'Міні-бар в номері', 'Сейф', 'Фен', 'Праска', 'Обслуговування номера'],\r\n      state: [stateRoomService, setRoomService]\r\n    },\r\n    {\r\n      title: 'Басейни',\r\n      main: ['Один басейн', 'Два басейни', 'Три басейни'],\r\n      free: ['Парасольки', 'Шезлонги', 'Рушники'],\r\n      paid: ['Парасольки', 'Шезлонги', 'Рушники', 'Басейн з підігрівом'],\r\n      state: [statePoolsService, setPoolsService]\r\n    },\r\n    {\r\n      title: 'Розваги',\r\n      main: [],\r\n      free: ['Аніматори', 'Дискотека', 'Настільний теніс', 'Сауна', 'Більярд', 'Водний спорт', 'Фітнес клуб'],\r\n      paid: ['Сауна', 'Більярд', 'Водний спорт', 'Фітнес клуб', 'Аніматори', 'Дискотека', 'Настільний теніс'],\r\n      state: [stateEntertainmentService, setEntertainmentService]\r\n    }\r\n  ];\r\n\r\n  function servicesComponent(service, title, attributeName) {\r\n    const [serviceState, setServiceState] = service.state;\r\n    if (service[attributeName].length) {\r\n      return (\r\n        <div>\r\n          {title}\r\n          <div className={attributeName}>\r\n            {service[attributeName].map((item) => (\r\n              <div\r\n                key={item}\r\n                className={`filter__btn filter-text ${\r\n                  serviceState[attributeName].includes(item) && 'filter__btn-active'\r\n                }`}\r\n                onClick={() => {\r\n                  toggleAttribute(item, attributeName, service.state);\r\n                }}\r\n              >\r\n                {item}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const resultState = Object.assign({}, mainState, {\r\n      services: [\r\n        stateAboutService,\r\n        stateLocationService,\r\n        stateTerritoryService,\r\n        stateBeachService,\r\n        stateRoomService,\r\n        statePoolsService,\r\n        stateEntertainmentService\r\n      ]\r\n    });\r\n    const ref = database.ref(`tours/${resultState.country}`);\r\n    const pushedUrl = ref.push(resultState);\r\n    const key = pushedUrl.getKey();\r\n    database.ref(`tours/${resultState.country}/${key}`).update({id: key});\r\n  }\r\n\r\n  async function onLoadPictures(e) {\r\n    const files = e.target.files;\r\n    let fileUrls = [];\r\n    for (let file of files) {\r\n      try {\r\n        const url = await storage.ref(mainState.country).child(file.name).getDownloadURL();\r\n        fileUrls.push(url);\r\n      } catch (exception) {\r\n        console.error(exception);\r\n        await storage.ref(`${mainState.country}/${file.name}`).put(file);\r\n        const url = await storage.ref(mainState.country).child(file.name).getDownloadURL();\r\n        fileUrls.push(url);\r\n      }\r\n    }\r\n    setMainState((prevState) => ({...prevState, urls: fileUrls}));\r\n  }\r\n\r\n  return (\r\n    <div className='wrapper'>\r\n      <form className='admin-form' onSubmit={handleSubmit}>\r\n        <div className='admin-form__fields'>\r\n          <label>\r\n            Ім'я:\r\n            <input\r\n              className='input'\r\n              type='text'\r\n              placeholder='name'\r\n              value={mainState.name}\r\n              onChange={(e) => setMainState((prevState) => ({...prevState, name: e.target.value}))}\r\n            />\r\n          </label>\r\n          <label>\r\n            Фотографії тура:\r\n            <input className='input' type='file' id='file' className='input-block' onChange={onLoadPictures} multiple />\r\n          </label>\r\n          <label>\r\n            Країни:\r\n            <select\r\n              className='form__control select'\r\n              value={mainState.country}\r\n              onChange={(e) => setMainState((prevState) => ({...prevState, country: e.target.value}))}\r\n            >\r\n              <option value='Єгипет'>Єгипет</option>\r\n              <option value='Туреччина'>Туреччина</option>\r\n              <option value='Домінікана'>Домінікана</option>\r\n              <option value='Кіпр'>Кіпр</option>\r\n            </select>\r\n          </label>\r\n          <label>\r\n            Курорт:\r\n            <select\r\n              className='form__control select'\r\n              value={mainState.resort}\r\n              onChange={(e) => {\r\n                setMainState((prevState) => ({...prevState, resort: e.target.value}));\r\n                setMainState((prevState) => {\r\n                  const newFilters = prevState.filters.filter((item) => !resorts.includes(item));\r\n                  return {\r\n                    ...prevState,\r\n                    filters: newFilters.concat([e.target.value])\r\n                  };\r\n                });\r\n              }}\r\n            >\r\n              {resorts &&\r\n                resorts.map((country) => (\r\n                  <option value={country} key={country}>\r\n                    {country}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </label>\r\n          <label>\r\n            Клас готеля:\r\n            <select\r\n              className='form__control select'\r\n              value={mainState.rate}\r\n              onChange={(e) => {\r\n                setMainState((prevState) => ({...prevState, rate: e.target.value}));\r\n                setMainState((prevState) => {\r\n                  const newFilters = prevState.filters.filter(\r\n                    (item) => item !== '5*' && item !== '4*' && item !== '3*'\r\n                  );\r\n                  return {\r\n                    ...prevState,\r\n                    filters: newFilters.concat([e.target.value])\r\n                  };\r\n                });\r\n                console.log(mainState);\r\n              }}\r\n            >\r\n              <option value='5*'>5*</option>\r\n              <option value='4*'>4*</option>\r\n              <option value='3*'>3*</option>\r\n            </select>\r\n          </label>\r\n          <label>\r\n            Ціна:\r\n            <input\r\n              className='input'\r\n              type='text'\r\n              placeholder='Price'\r\n              value={mainState.price}\r\n              onChange={(e) => setMainState((prevState) => ({...prevState, price: e.target.value}))}\r\n            />\r\n          </label>\r\n          <label>\r\n            Опис:\r\n            <textarea\r\n              rows='5'\r\n              cols='50'\r\n              className='input'\r\n              type='text'\r\n              placeholder='Description'\r\n              value={mainState.description}\r\n              onChange={(e) => setMainState((prevState) => ({...prevState, description: e.target.value}))}\r\n            ></textarea>\r\n          </label>\r\n        </div>\r\n        <div className='admin-form__filters'>\r\n          Фільтри*:\r\n          <div>\r\n            {filters.map(({title, body}) => {\r\n              return (\r\n                <div className='filter' key={title}>\r\n                  <h3 className='filter__title'>{title}</h3>\r\n                  {body.map((item) => (\r\n                    <div\r\n                      className={`filter__btn filter-text ${mainState.filters.includes(item) && 'filter__btn-active'}`}\r\n                      key={item}\r\n                      onClick={() => toggleAttribute(item, 'filters', [mainState, setMainState])}\r\n                    >\r\n                      {item}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className='admin-form__services services'>\r\n          Послуги:\r\n          <div>\r\n            {services.map((service) => {\r\n              return (\r\n                <div key={service.title}>\r\n                  <h3 className='filter__title'>{service.title}</h3>\r\n                  {servicesComponent(service, 'Основні:', 'main')}\r\n                  {servicesComponent(service, 'Безкоштовно:', 'free')}\r\n                  {servicesComponent(service, 'Платно:', 'paid')}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className='submit-block'>\r\n          <button type='submit' className='submit-btn btn'>\r\n            Відправити\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddTourForm;\r\n","import AddTourForm from './AddTourForm';\r\n\r\nexport default AddTourForm;\r\n","import React, {useState} from 'react';\r\nimport './Signup.css';\r\n\r\nimport {signup} from '../../../shared/utils/auth';\r\nimport {useHistory} from 'react-router';\r\nimport {useForm} from 'react-hook-form';\r\nimport {auth, database} from '../../../firebase.config';\r\n\r\nfunction Signup() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: {errors}\r\n  } = useForm();\r\n\r\n  const history = useHistory();\r\n\r\n  function onSubmit(data) {\r\n    const {name, email, tel, password} = data;\r\n    signup(email, password).then((user) =>\r\n      auth.onAuthStateChanged((user) => {\r\n        const ref = database.ref(`users/${user.uid}`);\r\n        ref.set({name, email, tel});\r\n        history.push('/search/result');\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className='signup'>\r\n      <div className='signup__left-side'>\r\n        <h2>Company</h2>\r\n        <h1>Розпочни свою подорож.</h1>\r\n        <h1 className='signup__main-title'>Сьогодні.</h1>\r\n      </div>\r\n      <div className='signup__right-side'>\r\n        <form className='signup__form' onSubmit={handleSubmit(onSubmit)}>\r\n          <label>\r\n            <span>І'мя:</span>\r\n            <input\r\n              className={`input ${errors.name && 'input-error'}`}\r\n              type='text'\r\n              {...register('name', {required: true, pattern: /^\\D+$/g})}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>E-mail:</span>\r\n            <input\r\n              className={`input ${errors.email && 'input-error'}`}\r\n              type='email'\r\n              {...register('email', {required: true, pattern: /.+@.+\\..+/i})}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Номер:</span>\r\n            <input\r\n              className={`input ${errors.tel && 'input-error'}`}\r\n              type='tel'\r\n              {...register('tel', {required: true, pattern: /^0\\d{8}\\d$/i})}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Пароль:</span>\r\n            <input\r\n              className={`input ${errors.password && 'input-error'}`}\r\n              type='password'\r\n              {...register('password', {required: true})}\r\n            />\r\n          </label>\r\n          <button className='submit-btn btn' type='submit'>\r\n            Полетіли!\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import Signup from './Signup';\r\nexport default Signup;\r\n","import {auth} from '../../firebase.config';\r\n\r\nexport function signup(email, password) {\r\n  return auth.createUserWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signin(email, password) {\r\n  return auth.signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function hasAuthStateChanged(setState) {\r\n  return auth.onAuthStateChanged((user) => setState(user));\r\n}\r\n\r\nexport function signOut() {\r\n  return auth.signOut();\r\n}\r\n","import React, {useState} from 'react';\r\nimport './Signin.css';\r\n\r\nimport {signin} from '../../../shared/utils/auth';\r\nimport {useHistory} from 'react-router';\r\nimport {useForm} from 'react-hook-form';\r\n\r\nfunction Signin() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: {errors}\r\n  } = useForm();\r\n  const history = useHistory();\r\n\r\n  function onSubmit(data) {\r\n    const {email, password} = data;\r\n    signin(email, password);\r\n    history.push('/hot');\r\n  }\r\n\r\n  return (\r\n    <div className='signin'>\r\n      <div className='signin__right-side'>\r\n        <form className='signin__form' onSubmit={handleSubmit(onSubmit)}>\r\n          <label>\r\n            <span>E-mail:</span>\r\n            <input\r\n              className={`input ${errors.email && 'input-error'}`}\r\n              type='email'\r\n              {...register('email', {required: true, pattern: /.+@.+\\..+/i})}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Пароль:</span>\r\n            <input\r\n              className={`input ${errors.password && 'input-error'}`}\r\n              type='password'\r\n              {...register('password', {required: true})}\r\n            />\r\n          </label>\r\n          <button className='submit-btn btn' type='submit'>\r\n            Увійти\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signin;\r\n","import Signin from './Signin';\r\nexport default Signin;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './Header.css';\r\n\r\nimport {NavLink} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {signOut} from '../utils/auth';\r\nimport {database} from '../../firebase.config';\r\n\r\nfunction Header({userAuth}) {\r\n  const LINK_CLASS_NAME = 'header__link';\r\n  const [isOpenMenu, setIsOpenMenu] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  useEffect(() => {\r\n    if (userAuth) {\r\n      const userRef = database.ref(`users/${userAuth.uid}/isAdmin`);\r\n      userRef.get().then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          const data = snapshot.val();\r\n          setIsAdmin(data);\r\n        }\r\n      });\r\n    }\r\n    return () => {};\r\n  }, [userAuth]);\r\n\r\n  const authLinks = [\r\n    {\r\n      name: 'Зареєструватися',\r\n      href: '/register',\r\n      className: LINK_CLASS_NAME\r\n    },\r\n    {\r\n      name: 'Увійти',\r\n      href: '/in',\r\n      className: LINK_CLASS_NAME\r\n    }\r\n  ];\r\n\r\n  function renderAuthOrLogout(authLinks, userAuth) {\r\n    if (userAuth) {\r\n      return (\r\n        <>\r\n          <NavLink\r\n            className='header__link'\r\n            activeClassName='header__link--active'\r\n            to='/profile'\r\n            onClick={onChangeIsOpenMenuState}\r\n          >\r\n            Профіль\r\n          </NavLink>\r\n          <a href='#' className='header__link' onClick={handleLogOut}>\r\n            Вийти\r\n          </a>\r\n        </>\r\n      );\r\n    } else {\r\n      return authLinks.map(({name, href, className}) => (\r\n        <NavLink\r\n          className={className}\r\n          activeClassName='header__link--active'\r\n          to={href}\r\n          key={name}\r\n          onClick={onChangeIsOpenMenuState}\r\n        >\r\n          {name}\r\n        </NavLink>\r\n      ));\r\n    }\r\n  }\r\n\r\n  function onChangeIsOpenMenuState() {\r\n    setIsOpenMenu(!isOpenMenu);\r\n    document.body.classList.toggle('lock');\r\n  }\r\n\r\n  function handleLogOut(e) {\r\n    e.preventDefault();\r\n    setIsAdmin(false);\r\n    signOut();\r\n  }\r\n\r\n  return (\r\n    <header className='header'>\r\n      <div className={`header__body ${isOpenMenu && 'active'}`}>\r\n        <div className='header__logo'>\r\n          <svg className='header__icon' viewBox='0 -101 713.75189 713' xmlns='http://www.w3.org/2000/svg'>\r\n            <path d='m85.085938 304.40625c-6.144532 2.882812-8.855469 10.140625-6.117188 16.34375l28.066406 60.25c1.378906 3 3.894532 5.335938 6.988282 6.488281 1.355468.492188 2.792968.746094 4.238281.746094 1.808593.015625 3.59375-.371094 5.238281-1.117187l212.054688-99.046876-19.207032 200.824219c-.371094 3.953125 1.152344 7.839844 4.109375 10.480469 9.296875 7.695312 20.882813 12.078125 32.9375 12.472656 3.324219-.003906 6.628907-.421875 9.851563-1.242187 17.214844-4.492188 30.5625-19.832031 39.667968-46.03125l83.449219-247.101563 165.273438-77.09375c48.648437-22.699218 73.71875-68.726562 56.882812-104.652344-9.554687-18.777343-27.855469-31.550781-48.773437-34.054687-23.242188-3.507813-46.996094.148437-68.105469 10.484375l-190.726563 89.433594-205.0625-80.207032c-25.824218-9.726562-46.277343-9.476562-60.621093.878907-12.035157 9.875-18.882813 24.71875-18.589844 40.285156.125 3.949219 2.113281 7.601563 5.363281 9.859375l138.082032 94.921875-79.078126 37.421875-132.601562-33.683594c-5.433594-1.335937-11.089844 1.113282-13.84375 5.988282l-33.050781 59.496093c-1.714844 3.152344-1.984375 6.894531-.738281 10.261719 1.238281 3.371094 3.871093 6.039062 7.226562 7.328125l98.167969 40.542969zm57.121093-248.09375c.734375-5.273438 3.402344-10.074219 7.488281-13.472656 7.113282-5.117188 20.085938-4.367188 37.421876 2.117187l182.617187 71.226563-83.328125 38.917968zm-112.257812 180.117188 21.703125-38.542969 127.605468 31.679687c2.75.695313 5.652344.433594 8.238282-.742187l414.75-193.71875c16.488281-8.132813 35.058594-11.09375 53.261718-8.484375 12.765626 1.175781 24.136719 8.542968 30.4375 19.707031 10.46875 22.457031-10.109374 55.261719-44.914062 71.476563l-143.695312 67.363281 8.734374-25.828125c2.207032-6.644532-1.398437-13.824219-8.042968-16.027344-6.652344-2.203125-13.828125 1.402344-16.03125 8.046875l-102.660156 305.476563c-6.113282 17.34375-13.722657 27.699218-22.203126 29.9375-5.253906 1.011718-10.691406-.019532-15.21875-2.863282l24.949219-261.953125c.652344-6.886719-4.398437-13-11.292969-13.652343-6.886718-.660157-13 4.398437-13.65625 11.285156l-3.863281 40.039062-214.054687 99.789063-17.578125-37.421875 35.167969-16.460938c4.527343-1.996094 7.445312-6.472656 7.445312-11.414062 0-4.945313-2.917969-9.421875-7.445312-11.414063zm0 0' />\r\n          </svg>\r\n          <span className='header__text'>подорож</span>\r\n        </div>\r\n        <div className={`header__burger ${isOpenMenu && 'active'}`} onClick={onChangeIsOpenMenuState}>\r\n          <span></span>\r\n        </div>\r\n        <nav className={`header__nav ${isOpenMenu && 'active'}`}>\r\n          <div className='header__logo header__logo--nav'>\r\n            <svg className='header__icon' viewBox='0 -101 713.75189 713' xmlns='http://www.w3.org/2000/svg'>\r\n              <path d='m85.085938 304.40625c-6.144532 2.882812-8.855469 10.140625-6.117188 16.34375l28.066406 60.25c1.378906 3 3.894532 5.335938 6.988282 6.488281 1.355468.492188 2.792968.746094 4.238281.746094 1.808593.015625 3.59375-.371094 5.238281-1.117187l212.054688-99.046876-19.207032 200.824219c-.371094 3.953125 1.152344 7.839844 4.109375 10.480469 9.296875 7.695312 20.882813 12.078125 32.9375 12.472656 3.324219-.003906 6.628907-.421875 9.851563-1.242187 17.214844-4.492188 30.5625-19.832031 39.667968-46.03125l83.449219-247.101563 165.273438-77.09375c48.648437-22.699218 73.71875-68.726562 56.882812-104.652344-9.554687-18.777343-27.855469-31.550781-48.773437-34.054687-23.242188-3.507813-46.996094.148437-68.105469 10.484375l-190.726563 89.433594-205.0625-80.207032c-25.824218-9.726562-46.277343-9.476562-60.621093.878907-12.035157 9.875-18.882813 24.71875-18.589844 40.285156.125 3.949219 2.113281 7.601563 5.363281 9.859375l138.082032 94.921875-79.078126 37.421875-132.601562-33.683594c-5.433594-1.335937-11.089844 1.113282-13.84375 5.988282l-33.050781 59.496093c-1.714844 3.152344-1.984375 6.894531-.738281 10.261719 1.238281 3.371094 3.871093 6.039062 7.226562 7.328125l98.167969 40.542969zm57.121093-248.09375c.734375-5.273438 3.402344-10.074219 7.488281-13.472656 7.113282-5.117188 20.085938-4.367188 37.421876 2.117187l182.617187 71.226563-83.328125 38.917968zm-112.257812 180.117188 21.703125-38.542969 127.605468 31.679687c2.75.695313 5.652344.433594 8.238282-.742187l414.75-193.71875c16.488281-8.132813 35.058594-11.09375 53.261718-8.484375 12.765626 1.175781 24.136719 8.542968 30.4375 19.707031 10.46875 22.457031-10.109374 55.261719-44.914062 71.476563l-143.695312 67.363281 8.734374-25.828125c2.207032-6.644532-1.398437-13.824219-8.042968-16.027344-6.652344-2.203125-13.828125 1.402344-16.03125 8.046875l-102.660156 305.476563c-6.113282 17.34375-13.722657 27.699218-22.203126 29.9375-5.253906 1.011718-10.691406-.019532-15.21875-2.863282l24.949219-261.953125c.652344-6.886719-4.398437-13-11.292969-13.652343-6.886718-.660157-13 4.398437-13.65625 11.285156l-3.863281 40.039062-214.054687 99.789063-17.578125-37.421875 35.167969-16.460938c4.527343-1.996094 7.445312-6.472656 7.445312-11.414062 0-4.945313-2.917969-9.421875-7.445312-11.414063zm0 0' />\r\n            </svg>\r\n          </div>\r\n          <NavLink\r\n            className={LINK_CLASS_NAME}\r\n            activeClassName='header__link--active'\r\n            to='/search/result'\r\n            onClick={onChangeIsOpenMenuState}\r\n          >\r\n            Пошук\r\n          </NavLink>\r\n          {isAdmin && (\r\n            <NavLink\r\n              className={LINK_CLASS_NAME}\r\n              activeClassName='header__link--active'\r\n              to='/admin'\r\n              onClick={onChangeIsOpenMenuState}\r\n            >\r\n              Адмін\r\n            </NavLink>\r\n          )}\r\n          {renderAuthOrLogout(authLinks, userAuth)}\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {userAuth: state.userAuth.currentUser};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import Header from './Header';\r\nexport default Header;\r\n","import React from 'react';\r\nimport './UserOrder.css';\r\n\r\nfunction UserOrder({id, ...props}) {\r\n  const {name, rate, country, resort, description, price, urls} = props.tour;\r\n  const {city, startDate, endDate} = props.search;\r\n\r\n  return (\r\n    <div className='UserOrder'>\r\n      <div className='UserOrder__img'>\r\n        <div>\r\n          <img src={urls && urls[0]} alt='It is a hotel' />\r\n        </div>\r\n      </div>\r\n      <div className='UserOrder__content'>\r\n        <div className='UserOrder__title'>\r\n          {name}, {rate}\r\n        </div>\r\n        <div className='UserOrder__text UserOrder__country'>\r\n          {country}, {resort}\r\n        </div>\r\n        <div className='UserOrder__text'>\r\n          З {new Date(startDate).toLocaleDateString()} по {new Date(endDate).toLocaleDateString()}\r\n        </div>\r\n        <div className='UserOrder__text'>\r\n          {props.tour.filters.find((filter) =>\r\n            [\r\n              'Без харчування',\r\n              'Тільки сніданки',\r\n              'Сніданок і вечеря',\r\n              'Все включено',\r\n              'Сніданок, обід і вечеря'\r\n            ].includes(filter)\r\n          )}\r\n        </div>\r\n        <div className='UserOrder__text'>Переліт (з м. {city})</div>\r\n      </div>\r\n      <div className='UserOrder__other'>\r\n        <div className='reviews'></div>\r\n        <div className='UserOrder__other-bottom'>\r\n          <div className='UserOrder__price'>\r\n            <span className='price'>{price}</span>\r\n            <span className='currency'> грн</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserOrder;\r\n","import UserOrder from './UserOrder';\r\n\r\nexport default UserOrder;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './UserOrders.css';\r\nimport OrderCard from './OrderCard';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport {database} from '../../../firebase.config';\r\n\r\nimport {setTours} from '../../../redux/actions';\r\n\r\nfunction UserOrders({userAuth, ...props}) {\r\n  const [user, setUser] = useState({});\r\n  useEffect(() => {\r\n    const ref = database.ref(`users/${userAuth.uid}`);\r\n    ref.on('value', (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        const data = snapshot.val();\r\n        if (data.orders) {\r\n          data.orders = Object.values(data.orders);\r\n        }\r\n        setUser(data);\r\n      }\r\n    });\r\n    return () => {\r\n      ref.off('value');\r\n    };\r\n  }, [userAuth]);\r\n\r\n  return (\r\n    <div className='UserOrders'>\r\n      {console.log(user)}\r\n      {user?.orders?.length\r\n        ? user.orders.map(({id, tour, search}, index) => <OrderCard key={index} id={id} tour={tour} search={search} />)\r\n        : 'Немає замовлень'}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userAuth: state.userAuth.currentUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setTours\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOrders);\r\n","import UserOrders from './UserOrders';\r\n\r\nexport default UserOrders;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './Profile.css';\r\nimport {connect} from 'react-redux';\r\nimport {database} from '../../firebase.config';\r\n\r\nimport UserOrders from './UserOrders';\r\n\r\nfunction Profile({userAuth, ...props}) {\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    tel: ''\r\n  });\r\n  useEffect(() => {\r\n    const userRef = database.ref(`users/${userAuth.uid}`);\r\n    userRef.on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      console.log(data);\r\n      setUser((state) => ({...state, ...data}));\r\n    });\r\n    return () => {\r\n      userRef.off('value');\r\n    };\r\n  }, [userAuth]);\r\n\r\n  return (\r\n    <div className='profile'>\r\n      <div className='profile__info'>\r\n        <h2>Ім'я: {user?.name}</h2>\r\n        <h2>E-mail: {user?.email}</h2>\r\n        <h2>Телефон: {user.tel ? user.tel : 'Не вказано'}</h2>\r\n      </div>\r\n      <div className='profile__tours'>\r\n        <UserOrders />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userAuth: state.userAuth.currentUser\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n","import Profile from './Profile';\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport './OrderCard.css';\r\nimport {database} from '../../../../firebase.config';\r\n\r\nfunction OrderCard({id, ...props}) {\r\n  const {name, rate, country, resort, description, price, urls} = props.tour;\r\n  const {city, startDate, endDate} = props.search;\r\n\r\n  function handleClick() {\r\n    database.ref(`orders/${id}`).update({isActive: false});\r\n  }\r\n\r\n  return (\r\n    <div className='OrderCard'>\r\n      <div className='OrderCard__img'>\r\n        <div>\r\n          <img src={urls && urls[0]} alt='It is a hotel' />\r\n        </div>\r\n      </div>\r\n      <div className='OrderCard__content'>\r\n        <div className='OrderCard__title'>\r\n          {name}, {rate}\r\n        </div>\r\n        <div className='OrderCard__text OrderCard__country'>\r\n          {country}, {resort}\r\n        </div>\r\n        <div className='OrderCard__text'>\r\n          З {new Date(startDate).toLocaleDateString()} по {new Date(endDate).toLocaleDateString()}\r\n        </div>\r\n        <div className='OrderCard__text'>\r\n          {props.tour.filters.find((filter) =>\r\n            [\r\n              'Без харчування',\r\n              'Тільки сніданки',\r\n              'Сніданок і вечеря',\r\n              'Все включено',\r\n              'Сніданок, обід і вечеря'\r\n            ].includes(filter)\r\n          )}\r\n        </div>\r\n        <div className='OrderCard__text'>Переліт (з м. {city})</div>\r\n        <div className='OrderCard__text OrderCard__description'>\r\n          Клієнт: {props.user.name}, телефон: {props.user.tel}, e-mail: {props.user.email}\r\n        </div>\r\n      </div>\r\n      <div className='OrderCard__other'>\r\n        <div className='reviews'></div>\r\n        <div className='OrderCard__other-bottom'>\r\n          <div className='OrderCard__price'>\r\n            <span className='price'>{price}</span>\r\n            <span className='currency'> грн</span>\r\n          </div>\r\n          <button className='OrderCard__btn btn' onClick={handleClick}>\r\n            Оброблено\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderCard;\r\n","import OrderCard from './OrderCard';\r\n\r\nexport default OrderCard;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './OrderCards.css';\r\nimport OrderCard from './OrderCard';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport {database} from '../../../firebase.config';\r\n\r\nimport {setTours} from '../../../redux/actions';\r\n\r\nfunction OrderCards(props) {\r\n  const [orders, setOrders] = useState([]);\r\n  useEffect(() => {\r\n    const ref = database.ref(`orders`);\r\n    ref.on('value', (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        const data = Object.values(snapshot.val());\r\n        setOrders(data);\r\n      }\r\n    });\r\n    return () => {\r\n      ref.off('value');\r\n    };\r\n  }, []);\r\n\r\n  const ordersFilter = orders.filter((order) => order.isActive);\r\n\r\n  return (\r\n    <div className='OrderCards'>\r\n      {ordersFilter.length\r\n        ? ordersFilter.map(({id, tour, search, user}, index) => (\r\n            <OrderCard key={index} id={id} tour={tour} user={user} search={search} />\r\n          ))\r\n        : 'Немає замовлень'}\r\n    </div>\r\n  );\r\n}\r\n/* \r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    tours: state.tours,\r\n    search: state.search,\r\n    selected: state.filters.selected,\r\n    minPrice: state.filters.minPrice,\r\n    maxPrice: state.filters.maxPrice,\r\n    tourName: state.filters.tourName\r\n  };\r\n}; */\r\n\r\nconst mapDispatchToProps = {\r\n  setTours\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(OrderCards);\r\n","import OrderCards from './OrderCards';\r\n\r\nexport default OrderCards;\r\n","import React from 'react';\r\nimport './Admin.css';\r\n\r\nimport {NavLink, Redirect, Route, Switch} from 'react-router-dom';\r\nimport AddTourForm from '../AddTourForm';\r\nimport OrderCards from '../OrderCards';\r\n\r\nfunction Admin() {\r\n  return (\r\n    <div className='admin'>\r\n      <nav className='admin__nav'>\r\n        <NavLink className='admin__link header__link' activeClassName='header__link--active' to='/admin/addtour'>\r\n          Додати тур\r\n        </NavLink>\r\n        <NavLink className='admin__link header__link' activeClassName='header__link--active' to='/admin/orders'>\r\n          Заявки\r\n        </NavLink>\r\n      </nav>\r\n      {/* <NavLink to='/admin/addtour'>Додати тур</NavLink> */}\r\n\r\n      <Switch>\r\n        <Route path='/admin/addtour' component={AddTourForm} />\r\n        <Route path='/admin/orders' component={OrderCards} />\r\n        <Redirect to='/admin/orders' />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import Admin from './Admin';\r\n\r\nexport default Admin;\r\n","import React from 'react';\r\nimport {Redirect, Route} from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({component: Component, isUserAuth, ...rest}) {\r\n  return (\r\n    <Route {...rest} render={(props) => (isUserAuth ? <Component {...props} /> : <Redirect to='/search/result' />)} />\r\n  );\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport './App.css';\r\n\r\nimport SearchBoard from '../../shared/SearchBoard';\r\nimport Offer from '../Offer';\r\nimport Tour from '../Tour';\r\nimport ToursSearch from '../ToursSearch';\r\n\r\nimport {Switch, Route, Redirect} from 'react-router-dom';\r\nimport AddTourForm from '../admin/AddTourForm';\r\n\r\nimport Signup from '../auth/Signup';\r\nimport Signin from '../auth/Signin';\r\nimport Header from '../../shared/Header';\r\n\r\nimport {connect} from 'react-redux';\r\nimport {setCurrentUser} from '../../redux/actions';\r\nimport {auth} from '../../firebase.config';\r\nimport RequestForm from '../RequestForm';\r\nimport Profile from '../Profile';\r\nimport Admin from '../admin/Admin';\r\nimport PrivateRoute from '../../shared/PrivateRoute';\r\n\r\nfunction App({setCurrentUser, userAuth}) {\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className='App wrapper'>\r\n      <Header color={true} />\r\n      <Switch>\r\n        <Route path='/order' component={RequestForm} />\r\n        <Route path='/tour/:id' component={Tour} />\r\n        <Route path='/search' component={SearchBoard} />\r\n        <Route path='/register' component={Signup} />\r\n        <Route path='/in' component={Signin} />\r\n        <PrivateRoute path='/admin' isUserAuth={userAuth} component={Admin} />\r\n        <PrivateRoute path='/profile' isUserAuth={userAuth} component={Profile} />\r\n\r\n        <Redirect to='/search/result' />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userAuth: state.userAuth.currentUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setCurrentUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import App from './App';\r\nexport default App;\r\n","import {dateOffsetByDays} from '../../../shared/utils/date';\r\nimport {SET_SEARCH_DATA} from '../../types';\r\n\r\n/* const initialState = {\r\n  country: 'Єгипет',\r\n  city: 'Київ',\r\n  startDate: new Date(),\r\n  endDate: generateEndDate(),\r\n  adults: 2,\r\n  children: 0\r\n}; */\r\n\r\nfunction initialState() {\r\n  const localStorageData = localStorage.getItem('search');\r\n  if (localStorageData) {\r\n    const parsedData = JSON.parse(localStorageData);\r\n    parsedData.startDate = new Date(parsedData.startDate);\r\n    parsedData.endDate = new Date(parsedData.endDate);\r\n    const startDate = dateOffsetByDays(new Date(), 7);\r\n    const endDate = dateOffsetByDays(new Date(), 14);\r\n    if (parsedData.startDate < startDate) {\r\n      parsedData.startDate = startDate;\r\n    }\r\n    if (parsedData.endDate < endDate) {\r\n      parsedData.endDate = endDate;\r\n    }\r\n    return parsedData;\r\n  }\r\n  return {\r\n    country: 'Єгипет',\r\n    city: 'Київ',\r\n    startDate: dateOffsetByDays(new Date(), 7),\r\n    endDate: dateOffsetByDays(new Date(), 14),\r\n    adults: 2,\r\n    children: 0\r\n  };\r\n}\r\n\r\nexport const searchReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case SET_SEARCH_DATA:\r\n      return {...state.main, ...action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {searchReducer} from './searchReducer';\r\nexport default searchReducer;\r\n","import {SET_TOURS} from '../../types';\r\n\r\nconst initialState = [];\r\n\r\nexport const toursReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_TOURS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {toursReducer} from './toursReducer';\r\nexport default toursReducer;\r\n","import {\r\n  CLEAR_FILTERS,\r\n  TOGGLE_FILTER,\r\n  REMOVE_FILTER,\r\n  CHANGE_MIN_PRICE,\r\n  CHANGE_MAX_PRICE,\r\n  CHANGE_TOUR_NAME,\r\n  SET_RESORTS\r\n} from '../../types';\r\n\r\nconst initialState = {\r\n  minPrice: 0,\r\n  maxPrice: 400000,\r\n  tourName: '',\r\n  selected: [],\r\n  resorts: []\r\n};\r\n\r\nexport const filtersReducer = (state = initialState, action) => {\r\n  const {selected} = state;\r\n  const toggleFilter = selected.filter((filter) => filter !== action.payload);\r\n  switch (action.type) {\r\n    case TOGGLE_FILTER:\r\n      if (selected.includes(action.payload)) {\r\n        return {...state, selected: toggleFilter};\r\n      } else {\r\n        return {...state, selected: selected.concat([action.payload])};\r\n      }\r\n    case REMOVE_FILTER:\r\n      return {...state, selected: toggleFilter};\r\n    case CLEAR_FILTERS:\r\n      return {...state, selected: []};\r\n\r\n    case CHANGE_MIN_PRICE:\r\n      return {...state, minPrice: action.payload};\r\n    case CHANGE_MAX_PRICE:\r\n      return {...state, maxPrice: action.payload};\r\n    case CHANGE_TOUR_NAME:\r\n      return {...state, tourName: action.payload};\r\n    case SET_RESORTS:\r\n      return {...state, resorts: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {filtersReducer} from './filtersReducer';\r\nexport default filtersReducer;\r\n","import {SET_CURRENT_USER} from '../../types';\r\n\r\nconst initialState = {\r\n  currentUser: ''\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return {...state, currentUser: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {authReducer} from './authReducer';\r\n\r\nexport default authReducer;\r\n","import {SET_USER} from '../../types';\r\n\r\nconst initialState = {};\r\n\r\nexport const userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {...state.user, ...action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {userReducer} from './userReducer';\r\n\r\nexport default userReducer;\r\n","import {combineReducers} from 'redux';\r\n\r\nimport searchReducer from './searchReducer';\r\nimport toursReducer from './toursReducer';\r\nimport filtersReducer from './filtersReducer';\r\nimport authReducer from './authReducer';\r\nimport userReducer from './userReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  search: searchReducer,\r\n  tours: toursReducer,\r\n  filters: filtersReducer,\r\n  userAuth: authReducer,\r\n  user: userReducer\r\n});\r\n","import {createStore} from 'redux';\r\nimport {rootReducer} from './reducers/rootReducer';\r\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\nimport store from './redux/store';\r\nimport {Provider} from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}